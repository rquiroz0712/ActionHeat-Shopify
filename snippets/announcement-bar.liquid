<div class="announcement">
  <div class="container">
    <div class="left-side">
    {%- if section.settings.announcement_link != blank -%}
      <a href="{{ section.settings.announcement_link }}" class="announcement__link">
        <span class="announcement__text" data-text="{{ section.settings.announcement_text | strip_html | handle }}">
          {{ section.settings.announcement_text | strip_html }}
        </span>
      </a>
    {% else %}
      <span class="announcement__text" data-text="{{ section.settings.announcement_text | strip_html | handle }}">
        {{ section.settings.announcement_text | strip_html }}
      </span>
    {%- endif -%}
    </div>
    <div class="right-side">
      {% if customer %}
        <a href="{{ routes.account_url }}" class="announcement__link">
          {% render 'announcement-bar-icons', icon: 'person' %}
          <span class="announcement__text" data-text="my-account">
            MY ACCOUNT
          </span>
        </a>
      {% else %}
        <a href="{{ routes.account_login_url }}" class="announcement__link">
          {% render 'announcement-bar-icons', icon: 'person' %}
          <span class="announcement__text" data-text="log-in">
            LOG IN
          </span>
        </a>
      {% endif %}
      {% for block in section.blocks %}
{%- comment -%} Wholesale_Club_Product_Visibility_For_Loop Start {%- endcomment -%}
{%- capture hide_resource -%}{% render "wc_product_visibility", resource: block %}{%- endcapture -%}
{%- if hide_resource == "true" -%}
  {% continue %}
{%- endif -%}
{%- comment -%} Wholesale_Club_Product_Visibility_For_Loop End {%- endcomment -%}

        {% if block.type == 'announcement_bar_section' %}
          {% if block.settings.announcement_section_url != blank %}
            <a href="{{ block.settings.announcement_section_url }}" class="announcement__link">
              {% render 'announcement-bar-icons', icon: block.settings.icon %}
              <span class="announcement__text" data-text="{{ block.settings.announcement_section_text | strip_html | handle }}">
                {{ block.settings.announcement_section_text }}
              </span>
            </a>
          {% else %}
            {% render 'announcement-bar-icons', icon: block.settings.icon %}
            <span class="announcement__text" data-text="{{ block.settings.announcement_section_text | strip_html | handle }}">
              {{ block.settings.announcement_section_text }}
            </span>
          {% endif %}
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
